/**
 * emmett - A custom events emitter for Node.js and the browser
 * @version v1.0.0
 * @link https://github.com/jacomyal/emmett
 * @license MIT
 */
(function(){"use strict";var t=function(){this._handlers={},this._handlersAll=[]};t.prototype.on=function(e,n){var r,s,h,i;if(1===arguments.length&&"object"==typeof arguments[0])for(h in arguments[0])t.prototype.on.call(this,h,arguments[0][h]);else if(1===arguments.length&&"function"==typeof arguments[0])this._handlersAll.push({handler:arguments[0]});else{if(2!==arguments.length||"function"!=typeof arguments[1])throw new Error("Wrong arguments.");for(i="string"==typeof e?[e]:e,r=0,s=i.length;r!==s;r+=1)h=i[r],h&&(this._handlers[h]||(this._handlers[h]=[]),this._handlers[h].push({handler:n}))}return this},t.prototype.off=function(t,e){var n,r,s,h,i,l,a,o="string"==typeof t?[t]:t;if(arguments.length){if(1===arguments.length&&"function"!=typeof o)for(n=0,r=o.length;n!==r;n+=1)delete this._handlers[o[n]];else if(1===arguments.length&&"function"==typeof o){e=arguments[0];for(i in this._handlers){for(l=[],n=0,r=this._handlers[i].length;n!==r;n+=1)this._handlers[i][n].handler!==e&&l.push(this._handlers[i][n]);this._handlers[i]=l}for(l=[],n=0,r=this._handlersAll.length;n!==r;n+=1)this._handlersAll[n].handler!==e&&l.push(this._handlersAll[n]);this._handlersAll=l}else if(2===arguments.length)for(n=0,r=o.length;n!==r;n+=1){if(a=o[n],this._handlers[a]){for(l=[],s=0,h=this._handlers[a].length;s!==h;s+=1)this._handlers[a][s].handler!==e&&l.push(this._handlers[a][s]);this._handlers[a]=l}this._handlers[a]&&0===this._handlers[a].length&&delete this._handlers[a]}}else{this._handlersAll=[];for(i in this._handlers)delete this._handlers[i]}return this},t.prototype.emit=function(t,e){var n,r,s,h,i,l,a,o,d="string"==typeof t?[t]:t;for(e=void 0===e?{}:e,n=0,r=d.length;n!==r;n+=1)if(o=d[n],a=(this._handlers[o]||[]).concat(this._handlersAll),a.length){for(l={type:o,data:e||{},target:this},i=[],s=0,h=a.length;s!==h;s+=1)a[s].handler(l),a[s].one||i.push(a[s]);this._handlers[o]=i}return this},t.prototype.binder=function(){var t=new e(this);return arguments.length&&t.on.apply(t,arguments),t};var e=function(e){t.call(this),this._emitter=e,this._enabled=!0};e.prototype.on=function(){return t.prototype.on.apply(this,arguments),this._enabled&&this._emitter.on.apply(this._emitter,arguments),this},e.prototype.off=function(){return t.prototype.off.apply(this,arguments),this._enabled&&this._emitter.off.apply(this._emitter,arguments),this},e.prototype.enable=function(){var t,e,n;if(this._enabled)return this;for(this._enabled=!0,e=this._handlersAll,n=e.length-1;n>=0;n--)this._emitter.on(e[n].handler);for(t in this._handlers)for(e=this._handlers[t],n=e.length-1;n>=0;n--)this._emitter.on(t,e[n].handler);return this},e.prototype.disable=function(){function t(t){return t.handler===r[e].handler}var e,n,r;if(!this._enabled)return this;for(r=this._emitter._handlersAll,e=r.length-1;e>=0;e--)this._handlersAll.find(t)&&r.splice(e,1);for(n in this._handlers)for(r=this._handlers[n],e=r.length-1;e>=0;e--)this._emitter.off(n,r[e].handler);return this._enabled=!1,this},t.version="1.0.0","undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Emitter=t):"function"==typeof define&&define.amd?define("emmett",[],function(){return t}):this.Emitter=t}).call(this);